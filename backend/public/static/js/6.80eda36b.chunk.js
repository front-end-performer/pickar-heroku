(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[6],{132:function(e,t,a){"use strict";a.r(t);var n=a(91),r=a.n(n),o=a(92),c=a(94),i=a(23),l=a(30),s=a(0),m=a.n(s),u=a(82),p=a(126),d=a(129),b=a(105),g=a.n(b),h=a(95),f=a(37),v=a(10),j=a(133),O=a(63),x=a(127),E=a(134),y=a(130),k=a(135),C=a(128),w=Object(u.a)((function(e){return{root:Object(i.a)({position:"absolute",top:"3rem"},e.breakpoints.up("xs"),{top:"0rem"}),paper:Object(i.a)({width:"100%",display:"flex",padding:e.spacing(2),justifyItems:"center",alignItems:"center",transition:"0.5s"},e.breakpoints.down("xs"),{flexDirection:"column",transition:"0.5s"}),margin:Object(i.a)({margin:e.spacing(2),display:"flex",alignItems:"center",width:"100%"},e.breakpoints.down("xs"),{marginBottom:e.spacing(0),"&:nth-child(n+2)":{marginTop:e.spacing(0)}}),imgContainer:Object(i.a)({width:"12%"},e.breakpoints.down("xs"),{width:"100%",display:"flex",paddingRight:"0.5rem",justifyContent:"flex-end"}),button:Object(l.a)(Object(l.a)({},e.typography.body2),{},{backgroundColor:e.palette.common.pink,padding:"10px 40px 10px 40px",margin:e.spacing(2),color:e.palette.secondary.main}),linkContainer:{marginTop:40},link:{cursor:"pointer",fontSize:12,fontWeight:"regular",lineHeight:"14px",color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),N=Object(v.a)((function(e){return{root:{"label + &":{margin:e.spacing(3,0),width:"100%"},"& .MuiSelect-select.MuiSelect-select":{width:"100%"}},input:{borderRadius:8,position:"relative",backgroundColor:e.palette.common.inputBg,border:"1px solid ".concat(e.palette.common.inputBg),fontSize:16,padding:"10px 26px 10px 10px",width:"100%",transition:e.transitions.create(["border-color","box-shadow"]),"&:focus":{borderRadius:8,borderColor:e.palette.common.pink}}}}))(j.a),S=function(e){var t=w();return m.a.createElement(p.a,{item:!0,container:!0,alignItems:"center",className:t.root},m.a.createElement(p.a,{item:!0,xs:12,sm:12,md:9},m.a.createElement(O.a,{elevation:2,className:t.paper},m.a.createElement(x.a,{className:t.margin},m.a.createElement(E.a,{error:e.error,shrink:!0,id:"demo-simple-select-placeholder-label-label",htmlFor:"demo-customized-textbox"},e.error?"Require numbers":"Amount"),m.a.createElement(N,{onChange:e.handleChange,name:"amount",value:e.inputAmount,id:"demo-customized-textbox"})),m.a.createElement(x.a,{className:t.margin,error:!e.available},m.a.createElement(E.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},e.available?"FROM":"requires PRO API Package"),m.a.createElement(y.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",name:"from",onChange:e.handleChange,value:e.from,input:m.a.createElement(N,null)},m.a.createElement(k.a,{value:"USD"},"USD"),m.a.createElement(k.a,{value:"EUR"},"EUR"),m.a.createElement(k.a,{value:"CHF"},"CHF"))),m.a.createElement(p.a,{item:!0,container:!0,justify:"center",className:t.imgContainer},m.a.createElement("img",{src:"https://gallery-public.s3.eu-central-1.amazonaws.com/switcher.png",alt:"switcher icon"})),m.a.createElement(x.a,{className:t.margin},m.a.createElement(E.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"TO"),m.a.createElement(y.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",name:"to",onChange:e.handleChange,value:e.to,input:m.a.createElement(N,null)},m.a.createElement(k.a,{value:"USD"},"USD"),m.a.createElement(k.a,{value:"EUR"},"EUR"),m.a.createElement(k.a,{value:"CHF"},"CHF"))),m.a.createElement(C.a,{onClick:e.onConfirm,variant:"contained",color:"primary",className:t.button},"Convert"))),m.a.createElement(p.a,{item:!0,align:"right",xs:12,sm:12,md:3,className:t.linkContainer},m.a.createElement(f.b,{to:"/history",className:t.link},"View conversion history >")))},T=a(42),R=Object(u.a)((function(e){var t;return{result:(t={paddingLeft:"2rem"},Object(i.a)(t,e.breakpoints.down("xs"),{paddingTop:"26rem",alignContent:"flex-end"}),Object(i.a)(t,e.breakpoints.up(601),{paddingTop:"11rem",alignContent:"flex-end"}),t),span:Object(l.a)({},e.typography.span)}})),z=function(e){var t=e.result,a=e.from,n=e.to,r=e.amount,o=e.isLoading,c=R();return m.a.createElement(m.a.Fragment,null,!t&&m.a.createElement(d.a,{variant:"h1",color:"primary",className:c.result},o&&m.a.createElement(T.a,null)||"..."),t&&m.a.createElement(d.a,{display:"inline",variant:"h1",color:"primary",className:c.result},m.a.createElement("span",{className:c.span},r+" "+a+" = ")," ",m.a.createElement("br",null)," ",t+" "+n))},D=Object(u.a)((function(e){var t;return{root:{},converterSection:{backgroundColor:e.palette.primary.main,height:"100%"},layout:Object(l.a)(Object(l.a)({},e.maxWidth),{},Object(i.a)({padding:e.spacing(4,4)},e.breakpoints.down("xs"),{padding:e.spacing(4,2,"90px",2)})),headLineContainer:Object(i.a)({marginTop:40,paddingBottom:40},e.breakpoints.down("xs"),{paddingBottom:40}),headline:Object(l.a)(Object(l.a)({},e.typography.h1),{},Object(i.a)({paddingTop:90},e.breakpoints.down(375),{fontSize:"1.7rem"})),formContainer:{position:"relative"},result:(t={paddingLeft:"2rem"},Object(i.a)(t,e.breakpoints.down("xs"),{paddingTop:"26rem",alignContent:"flex-end"}),Object(i.a)(t,e.breakpoints.up(601),{paddingTop:"11rem",alignContent:"flex-end"}),t),span:Object(l.a)({},e.typography.span)}}));t.default=function(){var e=D(),t=Object(s.useState)(""),a=Object(c.a)(t,2),n=a[0],u=a[1],b=Object(s.useState)(!1),f=Object(c.a)(b,2),v=f[0],j=f[1],O=Object(s.useState)(!0),x=Object(c.a)(O,2),E=x[0],y=x[1],k=Object(h.a)(),C=k.isLoading,w=k.sendRequest,N=Object(s.useState)(),T=Object(c.a)(N,2),R=T[0],F=T[1],L=Object(s.useState)({from:"",to:""}),U=Object(c.a)(L,2),A=U[0],I=U[1],H=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w("https://v6.exchangerate-api.com/v6/0559f58491a3a244833cc16b/latest/".concat(A.from),"POST",{"Content-Type":"application/json"});case 4:for(c in(a=e.sent).conversion_rates)c===A.to&&(o=n*a.conversion_rates[c]);return e.prev=6,e.next=9,w("https://pickar-task.herokuapp.com/api/conversions/convert","POST",JSON.stringify({amount:n,from:A.from,to:A.to,result:o}),{"Content-Type":"application/json"});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:F(o),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[1,17],[6,11]])})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement(p.a,{container:!0,name:"main",className:e.root},m.a.createElement(p.a,{item:!0,container:!0,className:e.converterSection},m.a.createElement(p.a,{item:!0,container:!0,className:e.layout,name:"converter"},m.a.createElement(p.a,{item:!0,xs:12,className:e.headLineContainer},m.a.createElement(d.a,{align:"left",color:"secondary",variant:"h1",className:e.headline},"Convert currencies in real-time.")),m.a.createElement(p.a,{item:!0,xs:12,className:e.formContainer},m.a.createElement(g.a,{when:!E},m.a.createElement(S,{handleChange:function(e){var t=e.target.value,a=e.target.name;switch(e.target.name){case"amount":u(e.target.value),function(e){var t=e.match(/^-?\d*\.?\d*$/);return!!Array.isArray(t)&&t.map(Number)}(e.target.value)?(u(e.target.value),j(!1)):(j(!0),u(""));break;case"from":I(e.target.value),"CHF"===e.target.value?y(!1):y(!0)}I(Object(l.a)(Object(l.a)({},A),{},Object(i.a)({},a,t)))},onConfirm:H,error:v,available:E,inputAmount:n,from:A.from,to:A.to}))))),m.a.createElement(p.a,{item:!0,container:!0,className:e.layout,name:"result"},m.a.createElement(z,{result:R,isLoading:C,from:A.from,to:A.to,amount:n})))}},95:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(91),r=a.n(n),o=a(92),c=a(94),i=a(0),l=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],l=Object(i.useState)(),s=Object(c.a)(l,2),m=s[0],u=s[1],p=Object(i.useRef)([]),d=Object(i.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o,c,i,l,s,m=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>1&&void 0!==m[1]?m[1]:"GET",o=m.length>2&&void 0!==m[2]?m[2]:null,c=m.length>3&&void 0!==m[3]?m[3]:{},n(!0),i=new AbortController,p.current.push(i),e.prev=6,e.next=9,fetch(t,{method:a,body:o,headers:c,signal:i.signal});case 9:return l=e.sent,e.next=12,l.json();case 12:if(s=e.sent,p.current=p.current.filter((function(e){return e!==i})),l.ok){e.next=16;break}throw new Error(s.message);case 16:return n(!1),e.abrupt("return",s);case 20:throw e.prev=20,e.t0=e.catch(6),u(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(i.useEffect)((function(){return function(){p.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:m,sendRequest:d,clearError:function(){u(null)}}}}}]);
//# sourceMappingURL=6.80eda36b.chunk.js.map