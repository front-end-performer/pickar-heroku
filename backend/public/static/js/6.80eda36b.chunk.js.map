{"version":3,"sources":["components/CurrencyConverter.js","components/Result.js","pages/LandingPage.js","shared/hooks/http-hook.js"],"names":["useStyles","makeStyles","theme","root","position","top","breakpoints","up","paper","width","display","padding","spacing","justifyItems","alignItems","transition","down","flexDirection","margin","marginBottom","marginTop","imgContainer","paddingRight","justifyContent","button","typography","body2","backgroundColor","palette","common","pink","color","secondary","main","linkContainer","link","cursor","fontSize","fontWeight","lineHeight","primary","textDecoration","BootstrapInput","withStyles","input","borderRadius","inputBg","border","transitions","create","borderColor","InputBase","CurrencyConverter","props","classes","Grid","item","container","className","xs","sm","md","Paper","elevation","FormControl","InputLabel","error","shrink","id","htmlFor","onChange","handleChange","name","value","inputAmount","available","Select","labelId","from","MenuItem","justify","src","alt","to","Button","onClick","onConfirm","variant","align","result","paddingLeft","paddingTop","alignContent","span","Result","amount","isLoading","Typography","Spinner","converterSection","height","layout","maxWidth","headLineContainer","paddingBottom","headline","h1","formContainer","LandinPage","useState","setInputAmount","setError","setAvailable","useHttpClient","sendRequest","setResult","setInput","e","a","preventDefault","key","getData","conversion_rates","process","JSON","stringify","console","log","when","evt","target","str","match","Array","isArray","map","Number","validation","setIsLoading","activeHttpRequests","useRef","useCallback","url","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError"],"mappings":"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","file":"static/js/6.80eda36b.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport {\n  Grid,\n  Paper,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  Select,\n  InputBase,\n  Button,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    top: '3rem',\n    [theme.breakpoints.up('xs')]: {\n      top: '0rem',\n    },\n  },\n  paper: {\n    width: '100%',\n    display: 'flex',\n    padding: theme.spacing(2),\n    justifyItems: 'center',\n    alignItems: 'center',\n    transition: '0.5s',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column',\n      transition: '0.5s',\n    },\n  },\n  margin: {\n    margin: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center',\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      marginBottom: theme.spacing(0),\n      '&:nth-child(n+2)': {\n        marginTop: theme.spacing(0),\n      },\n    },\n  },\n  imgContainer: {\n    width: '12%',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n      display: 'flex',\n      paddingRight: '0.5rem',\n      justifyContent: 'flex-end',\n    },\n  },\n  button: {\n    ...theme.typography.body2,\n    backgroundColor: theme.palette.common.pink,\n    padding: '10px 40px 10px 40px',\n    margin: theme.spacing(2),\n    color: theme.palette.secondary.main,\n  },\n  linkContainer: {\n    marginTop: 40,\n  },\n  link: {\n    cursor: 'pointer',\n    fontSize: 12,\n    fontWeight: 'regular',\n    lineHeight: '14px',\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline',\n    },\n  },\n}));\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      margin: theme.spacing(3, 0),\n      width: '100%',\n    },\n    '& .MuiSelect-select.MuiSelect-select': {\n      width: '100%',\n    },\n  },\n  input: {\n    borderRadius: 8,\n    position: 'relative',\n    backgroundColor: theme.palette.common.inputBg,\n    border: `1px solid ${theme.palette.common.inputBg}`,\n    fontSize: 16,\n    padding: '10px 26px 10px 10px',\n    width: '100%',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    '&:focus': {\n      borderRadius: 8,\n      borderColor: theme.palette.common.pink,\n    },\n  },\n}))(InputBase);\n\nconst CurrencyConverter = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Grid item container alignItems='center' className={classes.root}>\n      <Grid item xs={12} sm={12} md={9}>\n        <Paper elevation={2} className={classes.paper}>\n          <FormControl className={classes.margin}>\n            <InputLabel\n              error={props.error}\n              shrink\n              id='demo-simple-select-placeholder-label-label'\n              htmlFor='demo-customized-textbox'\n            >\n              {!props.error ? 'Amount' : 'Require numbers'}\n            </InputLabel>\n            <BootstrapInput\n              onChange={props.handleChange}\n              name='amount'\n              value={props.inputAmount}\n              id='demo-customized-textbox'\n            />\n          </FormControl>\n          <FormControl className={classes.margin} error={!props.available}>\n            <InputLabel shrink id='demo-simple-select-placeholder-label-label'>\n              {!props.available ? 'requires PRO API Package' : 'FROM'}\n            </InputLabel>\n            <Select\n              labelId='demo-customized-select-label'\n              id='demo-customized-select'\n              name='from'\n              onChange={props.handleChange}\n              value={props.from}\n              input={<BootstrapInput />}\n            >\n              <MenuItem value='USD'>USD</MenuItem>\n              <MenuItem value='EUR'>EUR</MenuItem>\n              <MenuItem value='CHF'>CHF</MenuItem>\n            </Select>\n          </FormControl>\n          <Grid\n            item\n            container\n            justify='center'\n            className={classes.imgContainer}\n          >\n            <img\n              src='https://gallery-public.s3.eu-central-1.amazonaws.com/switcher.png'\n              alt='switcher icon'\n            />\n          </Grid>\n          <FormControl className={classes.margin}>\n            <InputLabel shrink id='demo-simple-select-placeholder-label-label'>\n              TO\n            </InputLabel>\n            <Select\n              labelId='demo-customized-select-label'\n              id='demo-customized-select'\n              name='to'\n              onChange={props.handleChange}\n              value={props.to}\n              input={<BootstrapInput />}\n            >\n              <MenuItem value='USD'>USD</MenuItem>\n              <MenuItem value='EUR'>EUR</MenuItem>\n              <MenuItem value='CHF'>CHF</MenuItem>\n            </Select>\n          </FormControl>\n          <Button\n            onClick={props.onConfirm}\n            variant='contained'\n            color='primary'\n            className={classes.button}\n          >\n            Convert\n          </Button>\n        </Paper>\n      </Grid>\n      <Grid\n        item\n        align='right'\n        xs={12}\n        sm={12}\n        md={3}\n        className={classes.linkContainer}\n      >\n        <Link to='/history' className={classes.link}>\n          View conversion history &gt;\n        </Link>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default CurrencyConverter;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport Spinner from '../shared/UI/Spinner/Spinner';\n\nconst useStyles = makeStyles((theme) => ({\n  result: {\n    paddingLeft: '2rem',\n    [theme.breakpoints.down('xs')]: {\n      paddingTop: '26rem',\n      alignContent: 'flex-end',\n    },\n    [theme.breakpoints.up(601)]: {\n      paddingTop: '11rem',\n      alignContent: 'flex-end',\n    },\n  },\n  span: {\n    ...theme.typography.span,\n  },\n}));\n\nconst Result = ({ result, from, to, amount, isLoading }) => {\n  const classes = useStyles();\n\n  return (\n    <>\n      {!result && (\n        <Typography variant='h1' color='primary' className={classes.result}>\n          {(isLoading && <Spinner />) || '...'}\n        </Typography>\n      )}\n      {result && (\n        <Typography\n          display='inline'\n          variant='h1'\n          color='primary'\n          className={classes.result}\n        >\n          <span className={classes.span}>{amount + ' ' + from + ' = '}</span>{' '}\n          <br /> {result + ' ' + to}\n        </Typography>\n      )}\n    </>\n  );\n};\n\nexport default Result;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\nimport HeadShake from 'react-reveal/HeadShake';\n\nimport { useHttpClient } from '../shared/hooks/http-hook';\nimport CurrencyConverter from '../components/CurrencyConverter';\nimport Result from '../components/Result';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  converterSection: {\n    backgroundColor: theme.palette.primary.main,\n    height: '100%',\n  },\n  layout: {\n    ...theme.maxWidth,\n    padding: theme.spacing(4, 4),\n    [theme.breakpoints.down('xs')]: {\n      padding: theme.spacing(4, 2, '90px', 2),\n    },\n  },\n  headLineContainer: {\n    marginTop: 40,\n    paddingBottom: 40,\n    [theme.breakpoints.down('xs')]: {\n      paddingBottom: 40,\n    },\n  },\n  headline: {\n    ...theme.typography.h1,\n    paddingTop: 90,\n    [theme.breakpoints.down(375)]: {\n      fontSize: '1.7rem',\n    },\n  },\n  formContainer: {\n    position: 'relative',\n  },\n  result: {\n    paddingLeft: '2rem',\n    [theme.breakpoints.down('xs')]: {\n      paddingTop: '26rem',\n      alignContent: 'flex-end',\n    },\n    [theme.breakpoints.up(601)]: {\n      paddingTop: '11rem',\n      alignContent: 'flex-end',\n    },\n  },\n  span: {\n    ...theme.typography.span,\n  },\n}));\n\nconst LandinPage = () => {\n  const classes = useStyles();\n  const [inputAmount, setInputAmount] = useState('');\n  const [error, setError] = useState(false);\n  const [available, setAvailable] = useState(true);\n  const { isLoading, sendRequest } = useHttpClient();\n  const [result, setResult] = useState();\n\n  const [input, setInput] = useState({\n    from: '',\n    to: '',\n  });\n\n  const validation = (str) => {\n    const match = str.match(/^-?\\d*\\.?\\d*$/);\n    const isArray = Array.isArray(match);\n    if (isArray) return match.map(Number);\n    return false;\n  };\n\n  const handleChange = (evt) => {\n    let valid;\n    const value = evt.target.value;\n    const name = evt.target.name;\n    switch (evt.target.name) {\n      case 'amount':\n        setInputAmount(evt.target.value);\n        valid = validation(evt.target.value);\n\n        if (valid) {\n          setInputAmount(evt.target.value);\n          setError(false);\n        } else {\n          setError(true);\n          setInputAmount('');\n        }\n        break;\n      case 'from':\n        setInput(evt.target.value);\n        if (evt.target.value === 'CHF') {\n          setAvailable(false);\n        } else {\n          setAvailable(true);\n        }\n        break;\n      default:\n        break;\n    }\n\n    setInput({\n      ...input,\n      [name]: value,\n    });\n  };\n\n  const onConfirm = async (e) => {\n    e.preventDefault();\n\n    try {\n      const getData = await sendRequest(\n        `https://v6.exchangerate-api.com/v6/0559f58491a3a244833cc16b/latest/${input.from}`,\n        'POST',\n        {\n          'Content-Type': 'application/json',\n        }\n      );\n      let result;\n\n      for (let key in getData.conversion_rates) {\n        if (key === input.to) {\n          result = inputAmount * getData.conversion_rates[key];\n        }\n      }\n\n      try {\n        await sendRequest(\n          process.env.REACT_APP_BACKEND_URL + '/conversions/convert',\n          'POST',\n          JSON.stringify({\n            amount: inputAmount,\n            from: input.from,\n            to: input.to,\n            result: result,\n          }),\n          {\n            'Content-Type': 'application/json',\n          }\n        );\n      } catch (err) {\n        console.log(err);\n      }\n      setResult(result);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return (\n    <Grid container name='main' className={classes.root}>\n      <Grid item container className={classes.converterSection}>\n        <Grid item container className={classes.layout} name='converter'>\n          <Grid item xs={12} className={classes.headLineContainer}>\n            <Typography\n              align='left'\n              color='secondary'\n              variant='h1'\n              className={classes.headline}\n            >\n              Convert currencies in real-time.\n            </Typography>\n          </Grid>\n\n          <Grid item xs={12} className={classes.formContainer}>\n            <HeadShake when={!available}>\n              <CurrencyConverter\n                handleChange={handleChange}\n                onConfirm={onConfirm}\n                error={error}\n                available={available}\n                inputAmount={inputAmount}\n                from={input.from}\n                to={input.to}\n              />\n            </HeadShake>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item container className={classes.layout} name='result'>\n        <Result\n          result={result}\n          isLoading={isLoading}\n          from={input.from}\n          to={input.to}\n          amount={inputAmount}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default LandinPage;\n","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequests = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n      setIsLoading(true);\n      const httpAbortCtrl = new AbortController();\n      activeHttpRequests.current.push(httpAbortCtrl);\n\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n          signal: httpAbortCtrl.signal,\n        });\n\n        const responseData = await response.json();\n\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\n        );\n\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setIsLoading(false);\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        setIsLoading(false);\n        throw err;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\n    };\n  }, []);\n\n  return { isLoading, error, sendRequest, clearError };\n};\n"],"sourceRoot":""}