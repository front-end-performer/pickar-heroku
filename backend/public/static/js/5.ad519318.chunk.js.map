{"version":3,"sources":["components/HistoryItem.js","shared/UI/Card/Card.js","components/HistotyList.js","pages/HistoryPage.js","shared/hooks/http-hook.js"],"names":["moment","require","useStyles","makeStyles","theme","item","display","height","lineHeight","textAlign","borderCollapse","transition","border","palette","action","hover","cell","width","paddingLeft","verticalAlign","backgroundColor","secondary","main","borderRadius","breakpoints","down","fontSize","HistoryItem","date","amount","from","to","result","classes","className","Typography","variant","format","toFixed","Card","props","style","children","table","borderSpacing","color","itemHead","headText","typography","span","paddingTop","HistoryList","items","length","join","map","data","key","id","root","overflow","primary","borderBottom","layout","maxWidth","justifyContent","padding","spacing","linkContainer","margin","link","cursor","fontWeight","textDecoration","HistoryPage","useState","loadedData","setLoadedData","sendRequest","useHttpClient","useEffect","a","process","responseData","conversions","fetchconvertHistory","Grid","container","xs","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","useCallback","url","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","filter","reqCtrl","ok","Error","message","forEach","abortCtrl","abort","clearError"],"mappings":"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","file":"static/js/5.ad519318.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nconst moment = require('moment');\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    display: 'table-row',\n    height: 45,\n    lineHeight: '45px',\n    textAlign: 'center',\n    borderCollapse: 'collapse',\n    '&:hover': {\n      transition: '0.5s',\n      border: `1px solid ${theme.palette.action.hover}`,\n    },\n  },\n  cell: {\n    display: 'table-cell',\n    width: '30%',\n    textAlign: 'left',\n    paddingLeft: 80,\n    verticalAlign: 'middle',\n    backgroundColor: theme.palette.secondary.main,\n    '&:first-child': {\n      borderRadius: '8px 0 0 8px',\n    },\n    '&:last-child': {\n      borderRadius: '0 8px 8px 0',\n    },\n    '& > p': {\n      [theme.breakpoints.down('xs')]: {\n        fontSize: 12,\n      },\n    },\n    [theme.breakpoints.down('xs')]: {\n      paddingLeft: 10,\n    },\n  },\n}));\n\nconst HistoryItem = ({ date, amount, from, to, result }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.item}>\n      <div className={classes.cell}>\n        <Typography variant='body2'>\n          {moment(date).format('MMMM Do, YYYY')}\n        </Typography>\n      </div>\n      <div className={classes.cell}>\n        <Typography variant='body2'>\n          {amount.toFixed(2)} {from}\n        </Typography>\n      </div>\n      <div className={classes.cell}>\n        <Typography variant='body2'>\n          {result && result.toFixed(5)} {to}\n        </Typography>\n      </div>\n    </div>\n  );\n};\n\nexport default HistoryItem;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\n\nimport HistoryItem from './HistoryItem';\nimport Card from '../shared/UI/Card/Card';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    display: 'table',\n    width: '100%',\n    borderSpacing: '0 20px',\n  },\n  item: {\n    display: 'table-row',\n    height: 45,\n    lineHeight: '45px',\n    textAlign: 'center',\n  },\n  cell: {\n    display: 'table-cell',\n    width: '30%',\n    textAlign: 'left',\n    paddingLeft: 80,\n    verticalAlign: 'middle',\n    backgroundColor: theme.palette.secondary.main,\n    '&:first-child': {\n      borderRadius: '8px 0 0 8px',\n    },\n    '&:last-child': {\n      borderRadius: '0 8px 8px 0',\n    },\n    '& > span': {\n      color: '#a5abb3',\n    },\n    [theme.breakpoints.down('xs')]: {\n      paddingLeft: 10,\n    },\n  },\n  itemHead: {\n    verticalAlign: 'bottom',\n    backgroundColor: 'transparent',\n    color: theme.palette.secondary.main,\n  },\n  headText: {\n    ...theme.typography.span,\n    fontSize: 12,\n  },\n  paddingTop: {\n    paddingTop: 40,\n  },\n}));\n\nconst HistoryList = (props) => {\n  const classes = useStyles();\n  if (props.items.length === 0) {\n    return (\n      <div className={classes.paddingTop}>\n        <Card>\n          <h2>No conversions found.</h2>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes.table}>\n      <div className={classes.item}>\n        <div className={[classes.cell, classes.itemHead].join(' ')}>\n          <Typography className={classes.headText}>Date</Typography>\n        </div>\n        <div className={[classes.cell, classes.itemHead].join(' ')}>\n          <Typography className={classes.headText}>From</Typography>\n        </div>\n        <div className={[classes.cell, classes.itemHead].join(' ')}>\n          <Typography className={classes.headText}>To</Typography>\n        </div>\n      </div>\n      {props.items.map((data) => (\n        <HistoryItem\n          key={data.id}\n          id={data.id}\n          date={data.date}\n          amount={data.amount}\n          from={data.from}\n          to={data.to}\n          result={data.result}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default HistoryList;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { useHttpClient } from '../shared/hooks/http-hook';\nimport HistoryList from '../components/HistotyList';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n    paddingTop: 90,\n    overflow: 'auto',\n    backgroundColor: theme.palette.primary.main,\n    '& .MuiTableCell-root': {\n      borderBottom: 'transparent',\n    },\n    '& .MuiPaper-rounded': {\n      borderRadius: 8,\n    },\n  },\n  layout: {\n    ...theme.maxWidth,\n    overflow: 'scroll',\n    justifyContent: 'center',\n    padding: theme.spacing(4, 4),\n    [theme.breakpoints.down('xs')]: {\n      padding: theme.spacing(4, 2),\n    },\n  },\n  linkContainer: {\n    margin: '20px 0',\n  },\n  link: {\n    cursor: 'pointer',\n    fontSize: 12,\n    fontWeight: 'regular',\n    lineHeight: '14px',\n    color: theme.palette.secondary.main,\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline',\n    },\n  },\n}));\n\nconst HistoryPage = () => {\n  const classes = useStyles();\n  const [loadedData, setLoadedData] = useState();\n  const { sendRequest } = useHttpClient();\n\n  useEffect(() => {\n    const fetchconvertHistory = async () => {\n      try {\n        const responseData = await sendRequest(\n          process.env.REACT_APP_BACKEND_URL + '/history'\n        );\n\n        setLoadedData(responseData.conversions);\n      } catch (err) {}\n    };\n    fetchconvertHistory();\n  }, [sendRequest]);\n\n  return (\n    <Grid container className={classes.root}>\n      <Grid item container className={classes.layout}>\n        <Grid item xs={12} className={classes.linkContainer}>\n          <Link color='secondary' to='/' className={classes.link}>\n            &lt; Go back\n          </Link>\n          {loadedData && <HistoryList items={loadedData} />}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default HistoryPage;\n","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequests = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n      setIsLoading(true);\n      const httpAbortCtrl = new AbortController();\n      activeHttpRequests.current.push(httpAbortCtrl);\n\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n          signal: httpAbortCtrl.signal,\n        });\n\n        const responseData = await response.json();\n\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\n        );\n\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setIsLoading(false);\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        setIsLoading(false);\n        throw err;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\n    };\n  }, []);\n\n  return { isLoading, error, sendRequest, clearError };\n};\n"],"sourceRoot":""}